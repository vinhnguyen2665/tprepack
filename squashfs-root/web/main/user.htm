<script language="javascript" type="text/javascript">

var language_t = new Array(
	["manage_title_", 	"Account Management", 	"访问控制", innerHTML_t,	noSubIndex],
	["cur_pwd_",		"Old Password",			"当前密码", innerHTML_t, 	noSubIndex],
	["new_name_",		"New Name",				"新用户名",	innerHTML_t,	noSubIndex],
	["new_pwd_",		"New Password", 		"新密码",	innerHTML_t, 	noSubIndex],
	["cfm_pwd_", 		"Confirm Password", 	"确认密码", innerHTML_t, 	noSubIndex],
	["save",			"Save",					"保存",		value_t, 		noSubIndex],
	["manage_info_", 	"User And Password", 	"用户管理", innerHTML_t, 	noSubIndex]
	);

function doClick(obj)
{

	var oldpwd;
	var newpwd;
	var repwd;
	var newName;
	
	oldpwd = $.id("oldpwd").value;
		
	if ($.asc(oldpwd, true))
		return $.alert(ERR_USER_OLD_PWD_ASCII);
/*		
	if ((newName = $.id("username").value) === "")
		return $.alert(ERR_USER_NAME_EMPTY);
	
	if ($.asc(newName, true))
		return $.alert(ERR_USER_NAME_ASCII);

	if ((newpwd = $.id("newpwd").value) === "")
		return $.alert(ERR_USER_PWD_EMPTY);
		*/
	
	newpwd = $.id("newpwd").value;
		
	if ($.asc(newpwd, true))
		return $.alert(ERR_USER_PWD_ASCII);
		
	if ((repwd = $.id("re_pwd").value) !== newpwd)
		return $.alert(ERR_USER_NAME_PWD_CONFLICT);

	var arg = {};
	
	//arg.name = $.id("username").value;
	arg.name = $.id("username").options[$.id("username").selectedIndex].text;
	arg.oldPwd = oldpwd;
	arg.pwd = newpwd;
	$.act(ACT_CGI, "/cgi/auth", null, null, arg);
	
	$.exe(function(ret){
		if (!ret) {
			$.reload();
		}
	});
}

function doPwdKeyUp(obj)
{
	var pwd;
	
	pwd = obj.value;
	
	if (pwd.length > 15)
	{
		alert("The MAX length of password is 15!");

		obj.value = pwd.substr(0 , 15);
	}
}

</script>
<p class="et" id="manage_title_">User Management</p>
<div class="con1 M">
<p class="ct" id="manage_title_"><b>User Management</b></p>
<p class="bl"></p>
<div class="con2">
<p><b class="item">Username</b>
	<select id="username">
		<option value="1">admin</option>
		<option value="2">user</option>
	</select>
</p>
<p class="br" />
<p><b class="item M" id="cur_pwd_">Old Password:</b><input type="password" class="text" size="15" id="oldpwd" onkeyup="doPwdKeyUp(this)"/></p>
<p><b class="item M" id="new_pwd_">New Password:</b><input type="password" class="text" size="15" id="newpwd" onkeyup="doPwdKeyUp(this)"/></p>
<p><b class="item M" id="cfm_pwd_">Confirm Password:</b><input type="password" class="text" size="15" id="re_pwd" onkeyup="doPwdKeyUp(this)"/></p>
</div>

<p class="bl"></p>
<p class="center">
<input type="button" class="button L" value="Save" id="save" onclick="doClick(this);" /></p>
</div>
	
	
	